<style>
    .search-modal-overlay {
        position: absolute; /* Changed from fixed to absolute */
        top: 100%; /* Position directly below the parent (.search-bar-container) */
        left: 0;
        width: 100%; /* Make overlay match the width of the parent */
        /* Removed background color and blur to make it non-intrusive */
        z-index: 2000;
        display: none;
        align-items: flex-start;
        /* justify-content: center; is no longer needed */
        padding-top: 8px; /* Small gap from the search bar */
        pointer-events: none; /* Allow clicks to pass through the overlay */
    }

    .search-modal-overlay.active {
        display: flex;
        pointer-events: auto; /* Capture clicks when active */
    }

    .search-modal-content {
        background-color: white;
        border-radius: 12px;
        width: 100%; /* The content will now take the full width of the overlay */
        max-width: none; /* No longer need a max-width here */
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        display: flex;
        flex-direction: column;
        animation: fadeIn 0.2s ease-out;
        pointer-events: auto; /* Ensure content inside is clickable */
    }

    @keyframes fadeIn {
        from {
            transform: translateY(-10px);
            opacity: 0;
        }
        to {
            transform: translateY(0);
            opacity: 1;
        }
    }

    .search-modal-header {
        display: flex;
        align-items: center;
        padding: 12px;
        border-bottom: 1px solid #e0e0e0;
    }

    .search-modal-input {
        flex-grow: 1;
        border: none;
        outline: none;
        font-size: 1.1rem;
        padding: 8px;
        background: transparent;
    }

    .search-modal-close-btn {
        background: none;
        border: none;
        font-size: 1.5rem;
        color: #888;
        cursor: pointer;
        padding: 8px;
        line-height: 1;
    }

    .search-modal-body {
        max-height: 60vh;
        overflow-y: auto;
        padding: 8px;
    }

    .search-results-list {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .search-result-item {
        display: flex;
        align-items: center;
        padding: 10px;
        border-radius: 8px;
        cursor: pointer;
        transition: background-color 0.2s ease;
    }

    .search-result-item:hover, .search-result-item.focused {
        background-color: #f5f5f5;
    }

    .search-result-item a {
        display: flex;
        align-items: center;
        text-decoration: none;
        color: inherit;
        width: 100%;
    }

    .search-result-img {
        width: 50px;
        height: 50px;
        object-fit: cover;
        border-radius: 6px;
        margin-right: 15px;
        background-color: #f0f0f0;
    }

    .search-result-info {
        flex-grow: 1;
    }

    .search-result-name {
        font-weight: 600;
        color: #333;
    }

    .search-result-price {
        color: #666;
        font-size: 0.9rem;
    }

    .search-modal-footer {
        border-top: 1px solid #e0e0e0;
        padding: 12px 16px;
        text-align: center;
    }

    .search-modal-footer a {
        color: var(--secondary-color, #3498db);
        text-decoration: none;
        font-weight: 500;
    }
</style>

<div class="search-modal-overlay" id="searchModalOverlay">
    <div class="search-modal-content">
        <div class="search-modal-header">
            
        </div>
        <div class="search-modal-body">
            <ul class="search-results-list" id="searchResultsList">
                <!-- Results will be injected here by JavaScript -->
            </ul>
        </div>
        <div class="search-modal-footer" id="searchModalFooter" style="display: none;">
            <a href="/viewProducts" id="seeAllResultsLink">See all results</a>
        </div>
    </div>
</div>